<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          WebApp开发 - fancy的博客 | fancy&#39;s Blog
        
    </title>

    <link rel="canonical" href="http://fancychendong.github.io/2016/09/04/WebApp开发/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">fancychendong&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="http://fancychendong.github.io/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/home-bg.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#webapp" title="webapp">webapp</a>
                        
                    </div>
                    <h1>WebApp开发</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by xiaodong Chen on
                        2016-09-04
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <p>#Web app开发</p>
<p>##认识cordova<br>[百度百科]Cordova提供了一组设备相关的API，通过这组API，移动应用能够以JavaScript访问原生的设备功能，如摄像头、麦克风等。<br>Cordova还提供了一组统一的JavaScript类库，以及为这些类库所用的设备相关的原生后台代码。<br>Cordova支持如下移动操作系统：iOS, Android,ubuntu phone os, Blackberry, Windows Phone, Palm WebOS, Bada 和 Symbian。</p>
<p><strong>cordova与phonegap有什么关系？</strong><br>摘自<a href="http://www.cnblogs.com/zhoujg/p/4534932.html" target="_blank" rel="external">http://www.cnblogs.com/zhoujg/p/4534932.html</a><br>phonegap继续成长，在2011年10月，整个Nitobi团队被adobe收购，PhoneGap的项目主管Brian LeRoux指出开源PhoneGap的决定在Adobe收购Nitobi之前就做出了，由于Adobe现在拥有PhoneGap商标，他们不得不换个名字，第一个选中的名字是Callback，毫无创意，因此再改一次，产品现在叫Apache Cordova。随后adobe把 phonegap送给了apache软件基金会，接着apache把phonegap改名为cordova，cordova是Nitobi团队当时坐落的街道名称，用此名来纪念Nitobi团队的贡献。<br>所以Apache Cordova是从PhoneGap中抽出的核心代码，是驱动PhoneGap的核心引擎，你看着两个官网风格多差不多。</p>
<p>##认识SASS<br>官网地址<a href="http://www.sass.hk/" target="_blank" rel="external">http://www.sass.hk/</a><br>专业级CSS预处理器：成熟稳定，功能强大。</p>
<p>一、概要：<br>sass是采用的Ruby语言编写的一款css预处理语言。<br>sass从第三代开始，放弃了缩进式风格，并且完全向下兼容普通的css代码，这一代的sass也被称为scss。<br>sass基于Ruby语言编写，所以编译sass文件需要Ruby环境。我们使用sass并不需要过多了解Ruby语言，只需要安装Ruby环境即可。</p>
<p>Bootstrap 的源码是基于最流行的 CSS 预处理脚本 -<br>Less 和 Sass 开发的</p>
<p>##使用ionic lab开发web app<br>下载地址：<a href="http://lab.ionic.io/" target="_blank" rel="external">http://lab.ionic.io/</a><br><img src="ionic_lab_webapp.png" alt="Alt text"><br>操作并不复杂，使用ide的好处相对命令来说可以预览视图。<br>但是不近如人意的是，发现该ide并不好用，有很多bug，比如我直接想Run on Android的时候，一直提示我ANDROID_HOME环境变量没配置，可是我确实有配置，在网上搜了半天，各种问题的版本各种答案，反正最后也没解决！<br>不过ionic生成的项目会创建android工程，然后build成功之后再build目录下可以找到apk，直接用命令装apk到手机上体验一下，还是挺不错的。</p>
<p>工具也就说这么多，其实开发ionic最重要的地方是代码了，用sublime足够了感觉，配合一些命令build下就好了。</p>
<p>ionic不好的地方是，生成的android工程里的build.gradle太旧了，应该好久没更新了，导致build时候有时候会出问题。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">#apply plugin: &apos;com.android.application&apos;</div><div class="line">apply plugin: &apos;android&apos;</div><div class="line"></div><div class="line">buildscript &#123;</div><div class="line">    repositories &#123;</div><div class="line">        mavenCentral()//jcenter()</div><div class="line">    &#125;</div><div class="line">    if (gradle.gradleVersion &gt;= &quot;2.2&quot;) &#123;</div><div class="line">        dependencies &#123;</div><div class="line">            classpath &apos;com.android.tools.build:gradle:1.0.0+&apos;</div><div class="line">        &#125;</div><div class="line">    &#125; else if (gradle.gradleVersion &gt;= &quot;2.1&quot;) &#123;</div><div class="line">        dependencies &#123;</div><div class="line">            classpath &apos;com.android.tools.build:gradle:0.14.0+&apos;</div><div class="line">        &#125;</div><div class="line">    &#125; else &#123;</div><div class="line">        dependencies &#123;</div><div class="line">            classpath &apos;com.android.tools.build:gradle:0.12.0+&apos;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">//----------------------------</div><div class="line">应该改成</div><div class="line">dependencies &#123;</div><div class="line">        classpath &apos;com.android.tools.build:gradle:2.1.0&apos;</div><div class="line"></div><div class="line">        // NOTE: Do not place your application dependencies here; they belong</div><div class="line">        // in the individual module build.gradle files</div><div class="line">    &#125;</div><div class="line">//----------------------------</div><div class="line">repositories &#123;</div><div class="line">    mavenCentral()//jcenter()</div><div class="line">&#125;</div><div class="line"></div><div class="line">task wrapper(type: Wrapper) &#123;</div><div class="line">    gradleVersion = &apos;2.2.1&apos;//2.10</div><div class="line">&#125;</div><div class="line">.......总之ionic生成的build.gradle配置有很多问题</div></pre></td></tr></table></figure>
<p>决定自己重写一遍，不用自动生成的build.gradle配置，并且将ionic生成的android工程手动导入到as中去<br><strong>步骤一、导入CordovaLib</strong><br>习惯先导入库工程，修改库工程里的build.gradle配置，然后import moudle到工作目录中去。<br>中间可能会遇到些问题，如果你配置的build.gradle的compileSdkVersion是23的话，由于sdk 23把apache的包给移除了编译的时候会出现找不到相关class。可以选择使用<code>useLibrary &#39;org.apache.http.legacy&#39;</code>，但是我试着把compileSdkVersion改成19(因为ionic支持4.0以上)，但是发现又出现一个新问题，找不到ClientCertRequest类，在grepcode里(国内的developerandroid够慢)查了下这个类是在android5.0才引入的，好吧，那就改成22，然后编译通过了。<br>成功导入CordovaLib库工程！</p>
<p><strong>步骤二、导入主工程</strong><br>导入主工程，同样要修改build.gradle文件，该删的删，该改的改，大刀阔斧的改成自己可识别的配置。<br>因为导入库工程的成功经验，中间过程省略。。。<br>最后成功导入主工程，然后迫不及待在as中点击run运行下试试，发现可以直接安装了。perfect！</p>
<p>虽然整个过程看似很麻烦，用ionic lab无法自动运行在手机上调试，但是可以提供了一个预览功能，遗憾的是这个ide还很多bug，比如有两个web app，如果启动了第一个server可以预览修改，关闭掉后启动第二个app的server预览还是第一个的视图，但是点击右上角的箭头打开浏览器预览却可以，可见这款ide做的真心粗糙。<br>还要吐槽这款ide的是每次操作底部都会出现提示条，必须得手动点击关闭，很不方便。</p>
<p>而且build android的时候出现莫名其妙的问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[Error: ANDROID_HOME is not set and &quot;android&quot; command not in your PATH. You must fulfill at least one of these conditions.]</div><div class="line">You may not have the required environment or OS to build this project</div></pre></td></tr></table></figure></p>
<p>我明显配置了，不想说什么了~~~~</p>
<p>算了，开发ionic还是用lab的预览功能，用sublime编辑，然后控制台进入到项目目录使用gradle 和 gradle assembleDebug生成apk文件，用命令安装到手机或模拟器上调试。最后导入到as中去安装签名发布什么的吧！</p>
<p>web app运行在ios和android上的效果明显有差，在ios上切换界面的时候自带动画，切换更平缓流畅，但是在android中切换的时候比较生硬，感觉直接刷的一下切过去，体验没ios好是真的，不知道这个有没有办法解决一下！</p>


                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2016/09/05/AngularJs学习/" data-toggle="tooltip" data-placement="top" title="AngularJs学习">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2016/09/04/使用Hexo+GithubPage搭建博客/" data-toggle="tooltip" data-placement="top" title="使用Hexo+Github Page搭建博客">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                

                

            </div>
    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#webapp" title="webapp">webapp</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>

        </div>
    </div>
</article>









    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; fancychendong&#39;s Blog 2017 
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    Ported by <a href="http://blog.kaijun.rocks">Kaijun</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=kaijun&repo=hexo-theme-huxblog&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://fancychendong.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->




<!-- Baidu Tongji -->


<!-- Side Catalog -->





<!-- Image to hack wechat -->
<img src="http://fancychendong.github.io/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
